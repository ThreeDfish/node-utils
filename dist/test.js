"use strict";
exports.__esModule = true;
var cache_1 = require("./cache");
var redis_1 = require("redis");
var client = redis_1.createClient({
    host: 'localhost',
    port: 6379,
    password: 'cQ4j3bJdfZtSQmzS7wTwJuxB3CSuhRUnLGEFANADkFmXUKXT8PxQKtpm92TeUH4AqJeyWaw%Rg9Q@kn@_qR%M`zs,$3v:Cj>ye5S{Q%q@84w'
});
var config = {
    redisClient: client
};
var cache = new cache_1.Cache(config);
cache.set('abc', { a: 1 }, 1).then(console.log);
cache.get('abc').then(console.log);
setTimeout(function () {
    cache.get('abc').then(console.log);
    client.quit();
}, 1500);
cache.getSetIfNull('abc', function () { return Promise.resolve('data'); }, 10).then(function (v) {
    console.log('-----', v);
});

//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInRlc3QudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxpQ0FBNkM7QUFDN0MsK0JBQXFDO0FBRXJDLElBQU0sTUFBTSxHQUFHLG9CQUFZLENBQUM7SUFDeEIsSUFBSSxFQUFFLFdBQVc7SUFDakIsSUFBSSxFQUFFLElBQUk7SUFDVixRQUFRLEVBQUUsOEdBQThHO0NBQzNILENBQUMsQ0FBQztBQUVILElBQU0sTUFBTSxHQUFnQjtJQUN4QixXQUFXLEVBQUUsTUFBTTtDQUN0QixDQUFDO0FBRUYsSUFBTSxLQUFLLEdBQUcsSUFBSSxhQUFLLENBQUMsTUFBTSxDQUFDLENBQUM7QUFFaEMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxLQUFLLEVBQUUsRUFBQyxDQUFDLEVBQUUsQ0FBQyxFQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQztBQUU5QyxLQUFLLENBQUMsR0FBRyxDQUFDLEtBQUssQ0FBQyxDQUFDLElBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUM7QUFFbkMsVUFBVSxDQUFDO0lBQ1AsS0FBSyxDQUFDLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ25DLE1BQU0sQ0FBQyxJQUFJLEVBQUUsQ0FBQztBQUNsQixDQUFDLEVBQUUsSUFBSSxDQUFDLENBQUM7QUFFVCxLQUFLLENBQUMsWUFBWSxDQUNkLEtBQUssRUFDTCxjQUFNLE9BQUEsT0FBTyxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsRUFBdkIsQ0FBdUIsRUFDN0IsRUFBRSxDQUNMLENBQUMsSUFBSSxDQUFDLFVBQUMsQ0FBQztJQUNMLE9BQU8sQ0FBQyxHQUFHLENBQUMsT0FBTyxFQUFFLENBQUMsQ0FBQyxDQUFDO0FBQzVCLENBQUMsQ0FBQyxDQUFDIiwiZmlsZSI6InRlc3QuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBDYWNoZSwgQ2FjaGVDb25maWcgfSBmcm9tICcuL2NhY2hlJztcbmltcG9ydCB7IGNyZWF0ZUNsaWVudCB9IGZyb20gJ3JlZGlzJztcblxuY29uc3QgY2xpZW50ID0gY3JlYXRlQ2xpZW50KHtcbiAgICBob3N0OiAnbG9jYWxob3N0JyxcbiAgICBwb3J0OiA2Mzc5LFxuICAgIHBhc3N3b3JkOiAnY1E0ajNiSmRmWnRTUW16Uzd3VHdKdXhCM0NTdWhSVW5MR0VGQU5BRGtGbVhVS1hUOFB4UUt0cG05MlRlVUg0QXFKZXlXYXclUmc5UUBrbkBfcVIlTWB6cywkM3Y6Q2o+eWU1U3tRJXFAODR3J1xufSk7XG5cbmNvbnN0IGNvbmZpZzogQ2FjaGVDb25maWcgPSB7XG4gICAgcmVkaXNDbGllbnQ6IGNsaWVudFxufTtcblxuY29uc3QgY2FjaGUgPSBuZXcgQ2FjaGUoY29uZmlnKTtcblxuY2FjaGUuc2V0KCdhYmMnLCB7YTogMX0sIDEpLnRoZW4oY29uc29sZS5sb2cpO1xuXG5jYWNoZS5nZXQoJ2FiYycpLnRoZW4oY29uc29sZS5sb2cpO1xuXG5zZXRUaW1lb3V0KCgpID0+IHtcbiAgICBjYWNoZS5nZXQoJ2FiYycpLnRoZW4oY29uc29sZS5sb2cpO1xuICAgIGNsaWVudC5xdWl0KCk7XG59LCAxNTAwKTtcblxuY2FjaGUuZ2V0U2V0SWZOdWxsKFxuICAgICdhYmMnLFxuICAgICgpID0+IFByb21pc2UucmVzb2x2ZSgnZGF0YScpLFxuICAgIDEwXG4pLnRoZW4oKHYpID0+IHtcbiAgICBjb25zb2xlLmxvZygnLS0tLS0nLCB2KTtcbn0pOyJdfQ==
